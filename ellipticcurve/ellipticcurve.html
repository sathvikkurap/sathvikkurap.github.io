<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECC Shared Secret Generation</title>
    <script src="https://cdn.jsdelivr.net/npm/elliptic@6.5.4/dist/elliptic.min.js"></script>
</head>
<body>
    <h1>Elliptic Curve Cryptography Shared Secret Generation</h1>
    <button onclick="generateSharedSecret()">Generate Shared Secret</button>
    <div id="result"></div>

    <script>
        function generateSharedSecret() {
            // Initialize the elliptic curve
            const EC = elliptic.ec;
            const ec = new EC('p256');

            // Generate key pairs for Alice and Bob
            const aliceKeyPair = ec.genKeyPair();
            const bobKeyPair = ec.genKeyPair();

            // Compute shared secrets
            const aliceSharedSecret = aliceKeyPair.derive(bobKeyPair.getPublic());
            const bobSharedSecret = bobKeyPair.derive(aliceKeyPair.getPublic());

            // Convert shared secrets to hex strings
            const aliceSharedSecretHex = aliceSharedSecret.toString(16);
            const bobSharedSecretHex = bobSharedSecret.toString(16);

            // Display the results
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <h2>Results:</h2>
                <p><strong>Alice's Public Key:</strong> ${aliceKeyPair.getPublic().encode('hex')}</p>
                <p><strong>Bob's Public Key:</strong> ${bobKeyPair.getPublic().encode('hex')}</p>
                <p><strong>Alice's Shared Secret:</strong> ${aliceSharedSecretHex}</p>
                <p><strong>Bob's Shared Secret:</strong> ${bobSharedSecretHex}</p>
                <p><strong>Shared Secrets Match:</strong> ${aliceSharedSecretHex === bobSharedSecretHex ? 'Yes' : 'No'}</p>
            `;
        }
    </script>
</body>
</html>
