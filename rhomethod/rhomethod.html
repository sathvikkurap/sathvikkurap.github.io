<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pollard's Rho Algorithm</title>
    <script>
        function gcd(a, b) {
            while (b !== 0) {
                let t = b;
                b = a % b;
                a = t;
            }
            return a;
        }

        function pollardRho(n) {
            if (n % 2 === 0) return 2;

            let x = 2;
            let y = 2;
            let d = 1;

            function f(x) {
                return (BigInt(x) * BigInt(x) + BigInt(1)) % BigInt(n);
            }

            while (d === 1) {
                x = f(x);
                y = f(f(y));
                d = gcd(Math.abs(x - y), n);
            }

            return d;
        }

        function factor() {
            const input = document.getElementById('number').value;
            const n = parseInt(input);

            if (isNaN(n) || n < 2) {
                document.getElementById('result').textContent = "Please enter a valid number greater than 1.";
                return;
            }

            const factor = pollardRho(n);

            if (factor === n) {
                document.getElementById('result').textContent = `${n} is prime or the algorithm failed to find a factor.`;
            } else {
                document.getElementById('result').textContent = `A factor of ${n} is ${factor}.`;
            }
        }
    </script>
</head>
<body>
    <h1>Pollard's Rho Algorithm for Factoring</h1>
    <input type="number" id="number" placeholder="Enter a number to factor">
    <button onclick="factor()">Factor</button>
    <p id="result"></p>
</body>
</html>
